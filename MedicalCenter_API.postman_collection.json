{
	"info": {
		"_postman_id": "medical-center-api-collection",
		"name": "Medical Center API",
		"description": "Complete API collection for Medical Center Automation System with pre-populated test data",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register Patient",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('accessToken', response.token);",
									"    pm.environment.set('refreshToken', response.refreshToken);",
									"    pm.environment.set('patientId', response.userId);",
									"    pm.environment.set('patientEmail', response.email);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"SecurePass123!\",\n    \"nationalId\": \"12345678901234\",\n    \"dateOfBirth\": \"1990-05-15T00:00:00Z\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients"
							]
						},
						"description": "Register a new patient. Password must meet Identity requirements: min 8 chars, digit, lowercase, uppercase, non-alphanumeric."
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('accessToken', response.token);",
									"    pm.environment.set('refreshToken', response.refreshToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{patientEmail}}\",\n    \"password\": \"SecurePass123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Authenticate user and receive JWT token"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('accessToken', response.token);",
									"    pm.environment.set('refreshToken', response.refreshToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\": \"{{refreshToken}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/refresh",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						},
						"description": "Refresh access token using refresh token"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints"
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Create User - Doctor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('doctorId', response.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Dr. Sarah Johnson\",\n    \"email\": \"sarah.johnson@medicalcenter.com\",\n    \"password\": \"DoctorPass123!\",\n    \"role\": 2,\n    \"licenseNumber\": \"MD-12345\",\n    \"specialty\": \"Cardiology\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new doctor user. Role: 2 = Doctor"
					},
					"response": []
				},
				{
					"name": "Create User - Healthcare Staff",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('healthcareStaffId', response.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Nurse Mary Smith\",\n    \"email\": \"mary.smith@medicalcenter.com\",\n    \"password\": \"NursePass123!\",\n    \"role\": 3,\n    \"organizationName\": \"City General Hospital\",\n    \"department\": \"Emergency Department\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new healthcare staff user. Role: 3 = HealthcareStaff"
					},
					"response": []
				},
				{
					"name": "Create User - Lab User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('labUserId', response.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Lab Technician Bob Wilson\",\n    \"email\": \"bob.wilson@lab.com\",\n    \"password\": \"LabPass123!\",\n    \"role\": 4,\n    \"labName\": \"City Medical Laboratory\",\n    \"licenseNumber\": \"LAB-78901\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new lab user. Role: 4 = LabUser"
					},
					"response": []
				},
				{
					"name": "Create User - Imaging User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('imagingUserId', response.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Radiologist Dr. James Brown\",\n    \"email\": \"james.brown@imaging.com\",\n    \"password\": \"ImagingPass123!\",\n    \"role\": 5,\n    \"centerName\": \"Advanced Imaging Center\",\n    \"licenseNumber\": \"IMG-45678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new imaging user. Role: 5 = ImagingUser"
					},
					"response": []
				},
				{
					"name": "List Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users?role=Doctor&isActive=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							],
							"query": [
								{
									"key": "role",
									"value": "Doctor",
									"description": "Optional: Doctor, HealthcareStaff, LabUser, ImagingUser, Patient, SystemAdmin"
								},
								{
									"key": "isActive",
									"value": "true",
									"description": "Optional: true, false, or omit for all"
								}
							]
						},
						"description": "List users with optional filtering by role and active status"
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/{{doctorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{doctorId}}"
							]
						},
						"description": "Get user details by ID"
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Dr. Sarah Johnson Updated\",\n    \"specialty\": \"Cardiology & Internal Medicine\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users/{{doctorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{doctorId}}"
							]
						},
						"description": "Update user details. Only provide fields to update."
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/{{doctorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{doctorId}}"
							]
						},
						"description": "Soft delete (deactivate) a user"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{doctorId}}\",\n    \"newPassword\": \"NewSecurePass123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users/change-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"change-password"
							]
						},
						"description": "Admin change user password. New password must meet Identity requirements."
					},
					"response": []
				}
			],
			"description": "Admin endpoints (requires SystemAdmin role)"
		},
		{
			"name": "Patients",
			"item": [
				{
					"name": "Get Self",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/self",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"self"
							]
						},
						"description": "Get authenticated patient's own information"
					},
					"response": []
				},
				{
					"name": "Get Self Medical Attributes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/self/medical-attributes",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"self",
								"medical-attributes"
							]
						},
						"description": "Get authenticated patient's medical attributes (allergies, chronic diseases, medications, surgeries)"
					},
					"response": []
				}
			],
			"description": "Patient self-service endpoints"
		},
		{
			"name": "Allergies",
			"item": [
				{
					"name": "Create Allergy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('allergyId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"patientId\": \"{{patientId}}\",\n    \"name\": \"Penicillin\",\n    \"severity\": \"Severe\",\n    \"notes\": \"Causes anaphylaxis\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/allergies",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"allergies"
							]
						},
						"description": "Create a new allergy for a patient"
					},
					"response": []
				},
				{
					"name": "List Allergies",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/allergies",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"allergies"
							]
						},
						"description": "List all allergies for a patient"
					},
					"response": []
				},
				{
					"name": "Update Allergy",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Penicillin (Updated)\",\n    \"severity\": \"Moderate\",\n    \"notes\": \"Updated notes\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/allergies/{{allergyId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"allergies",
								"{{allergyId}}"
							]
						},
						"description": "Update an existing allergy"
					},
					"response": []
				},
				{
					"name": "Delete Allergy",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/allergies/{{allergyId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"allergies",
								"{{allergyId}}"
							]
						},
						"description": "Delete an allergy"
					},
					"response": []
				}
			],
			"description": "Allergy management endpoints"
		},
		{
			"name": "Chronic Diseases",
			"item": [
				{
					"name": "Create Chronic Disease",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('chronicDiseaseId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"patientId\": \"{{patientId}}\",\n    \"name\": \"Type 2 Diabetes\",\n    \"diagnosisDate\": \"2020-03-15T00:00:00Z\",\n    \"notes\": \"Well controlled with medication\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/chronic-diseases",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"chronic-diseases"
							]
						},
						"description": "Create a new chronic disease record"
					},
					"response": []
				},
				{
					"name": "List Chronic Diseases",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/chronic-diseases",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"chronic-diseases"
							]
						},
						"description": "List all chronic diseases for a patient"
					},
					"response": []
				},
				{
					"name": "Update Chronic Disease",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Type 2 Diabetes (Updated)\",\n    \"diagnosisDate\": \"2020-03-15T00:00:00Z\",\n    \"notes\": \"Updated notes\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/chronic-diseases/{{chronicDiseaseId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"chronic-diseases",
								"{{chronicDiseaseId}}"
							]
						},
						"description": "Update an existing chronic disease"
					},
					"response": []
				},
				{
					"name": "Delete Chronic Disease",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/chronic-diseases/{{chronicDiseaseId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"chronic-diseases",
								"{{chronicDiseaseId}}"
							]
						},
						"description": "Delete a chronic disease record"
					},
					"response": []
				}
			],
			"description": "Chronic disease management endpoints"
		},
		{
			"name": "Medications",
			"item": [
				{
					"name": "Create Medication",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('medicationId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"patientId\": \"{{patientId}}\",\n    \"name\": \"Metformin\",\n    \"dosage\": \"500mg twice daily\",\n    \"startDate\": \"2020-03-20T00:00:00Z\",\n    \"endDate\": null,\n    \"notes\": \"Take with meals\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/medications",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"medications"
							]
						},
						"description": "Create a new medication record"
					},
					"response": []
				},
				{
					"name": "List Medications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/medications",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"medications"
							]
						},
						"description": "List all medications for a patient"
					},
					"response": []
				},
				{
					"name": "Update Medication",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"dosage\": \"1000mg twice daily\",\n    \"endDate\": \"2024-12-31T00:00:00Z\",\n    \"notes\": \"Updated dosage\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/medications/{{medicationId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"medications",
								"{{medicationId}}"
							]
						},
						"description": "Update an existing medication"
					},
					"response": []
				},
				{
					"name": "Delete Medication",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/medications/{{medicationId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"medications",
								"{{medicationId}}"
							]
						},
						"description": "Delete a medication record"
					},
					"response": []
				}
			],
			"description": "Medication management endpoints"
		},
		{
			"name": "Surgeries",
			"item": [
				{
					"name": "Create Surgery",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('surgeryId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"patientId\": \"{{patientId}}\",\n    \"name\": \"Appendectomy\",\n    \"date\": \"2018-06-10T00:00:00Z\",\n    \"surgeon\": \"Dr. Michael Chen\",\n    \"notes\": \"Laparoscopic procedure, successful recovery\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/surgeries",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"surgeries"
							]
						},
						"description": "Create a new surgery record"
					},
					"response": []
				},
				{
					"name": "List Surgeries",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/surgeries",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"surgeries"
							]
						},
						"description": "List all surgeries for a patient"
					},
					"response": []
				},
				{
					"name": "Update Surgery",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Appendectomy (Updated)\",\n    \"date\": \"2018-06-10T00:00:00Z\",\n    \"surgeon\": \"Dr. Michael Chen (Updated)\",\n    \"notes\": \"Updated notes\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/surgeries/{{surgeryId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"surgeries",
								"{{surgeryId}}"
							]
						},
						"description": "Update an existing surgery"
					},
					"response": []
				},
				{
					"name": "Delete Surgery",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/patients/{{patientId}}/surgeries/{{surgeryId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"patients",
								"{{patientId}}",
								"surgeries",
								"{{surgeryId}}"
							]
						},
						"description": "Delete a surgery record"
					},
					"response": []
				}
			],
			"description": "Surgery management endpoints"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://localhost:7000",
			"type": "string"
		}
	]
}

